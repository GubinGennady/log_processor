Log Processor
=======
[![Python](https://img.shields.io/badge/Python-3.10%2B-blue)](https://python.org)

# –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Log Processor ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–æ–≥–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSONL (JSON Lines),
–≤—ã—á–∏—Å–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á–µ—Ç—ã –≤ —É–¥–æ–±–Ω–æ–º —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ.

‚úÖ **–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ –ø–æ –¥–∞—Ç–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

üõ† **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**

- Python 3.10+
- pytest –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
    ```bash
    https://github.com/GubinGennady/log_processor.git

2. **–°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**
   ```bash
   python -m venv env
   source env/bin/activate  # Linux/MacOS
   env\Scripts\activate.bat  # Windows

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   ```bash
   pip install -r requirements.txt

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç**
   ```bash
   python run.py --file file.log --report average
   
2. **–î–æ—Å—Ç—É–ø–Ω—ã–µ –æ—Ç—á–µ—Ç—ã**

   - average: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º

3. **–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
   ```text
   +--------------------------+----------------+--------------------------+
   | Endpoint                 |   Request Count |   Avg Response Time (s) |
   +==========================+================+==========================+
   | /api/home                |            55241 |                  0.0926 |
   +--------------------------+----------------+--------------------------+
   | /api/context             |            43907 |                  0.0194 |
   +--------------------------+----------------+--------------------------+

4. **–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
   
   - –õ–æ–≥-—Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–ø–∏—Å–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON Lines. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π JSON-–æ–±—ä–µ–∫—Ç.

5. **–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
   - @timestamp: –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ (ISO 8601)
   - url: URL —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
   - response_time: –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö

6. **–ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏:**
   ```json
   {"@timestamp": "2025-06-22T13:57:32+00:00", "url": "/api/home", "response_time": 0.12, "status": 200}
   

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤**
   ```bash
   pytest --cov=src --cov-report=term-missing

2. **–û—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç-—Å—å—é—Ç—ã**
   ```bash
   # –¢–µ—Å—Ç—ã CLI
   pytest tests/test_cli.py -v

   # –¢–µ—Å—Ç—ã —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
   pytest tests/test_file_reader.py -v
   
   # –¢–µ—Å—Ç—ã –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
   pytest tests/test_main.py -v
   
   # –¢–µ—Å—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤
   pytest tests/test_reporters.py -v

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

      log_processor/
      ‚îú‚îÄ‚îÄ src/                         # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
      ‚îÇ   ‚îî‚îÄ‚îÄ log_processor/
      ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
      ‚îÇ       ‚îú‚îÄ‚îÄ cli.py               # –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
      ‚îÇ       ‚îú‚îÄ‚îÄ file_reader.py       # –ß—Ç–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ª–æ–≥–æ–≤
      ‚îÇ       ‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
      ‚îÇ       ‚îî‚îÄ‚îÄ reporters.py         # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –æ—Ç—á–µ—Ç–æ–≤
      ‚îú‚îÄ‚îÄ tests/                       # –¢–µ—Å—Ç—ã
      ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py      
      ‚îÇ   ‚îú‚îÄ‚îÄ test_cli.py
      ‚îÇ   ‚îú‚îÄ‚îÄ test_file_reader.py
      ‚îÇ   ‚îú‚îÄ‚îÄ test_main.py
      ‚îÇ   ‚îî‚îÄ‚îÄ test_reporters.py
      ‚îú‚îÄ‚îÄ run.py                       # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
      ‚îú‚îÄ‚îÄ setup.py                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
      ‚îî‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
